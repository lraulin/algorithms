from random import randint


def ascend(num):
    return int(''.join(sorted(str(num))))


def descend(num):
    num = int(''.join(sorted(str(num))[::-1]))
    if num < 10:
        num *= 1000
    elif num < 100:
        num *= 100
    elif num < 1000:
        num *= 10
    return num


def kaprekars_constant(num):
    KAP = 6174
    count = 0
    while num != KAP:
        num = descend(num) - ascend(num)
        count += 1
    return count


def test_generator(n):
    numbers = []
    for i in range(n):
        num = []
        for i in range(4):
            num.append(randint(0, 9))
        if num[0] == num[1] == num[2] == num[3]:
            num_x = randint(0, 4)
            num[num_x] = abs(num[num_x] - randint(1, 9))
        numbers.append(int(''.join(map(str, num))))
    print(numbers)


test_numbers = [8977, 3319, 5390, 117, 6244, 4987, 7510, 4870, 9082, 7192, 1823, 886, 5763, 902, 3383, 4094, 5131, 9125, 2467, 8516, 2233, 7965, 3013, 6351, 9338, 4140, 8123, 3695, 4772, 2759, 4886, 6664, 1906, 820, 5196, 5188, 2650, 4400, 254, 8422, 199, 1743, 1772, 4569, 6663, 3215, 2541, 2920, 1695, 679, 4822, 7736, 8271, 9592, 3531, 4907, 4966, 9963, 153, 659, 135, 2377, 2152, 5240, 6685, 385, 8111, 1766, 7132, 6852, 1293, 596, 9505, 1771, 5761, 3695, 9896, 6457, 4886, 1133, 1546, 328, 6148, 3063, 9962, 8129, 1122, 4825, 5505, 232, 6544, 7179, 3049, 462, 6452, 7657, 4408, 7836, 1604, 3755, 8331, 3054, 5859, 8375, 1389, 8420, 8281, 597, 5023, 1562, 9818, 5301, 2274, 2223, 327, 9356, 2965, 2305, 3525, 9639, 1628, 6015, 4008, 5904, 1943, 6669, 8551, 1918, 7567, 2105, 6686, 6705, 3010, 1976, 797, 4528, 4798, 6127, 9862, 5637, 6770, 9622, 3270, 3463, 8350, 7033, 9285, 148, 2858, 4287, 6533, 9654, 7843, 9217, 5943, 7963, 2857, 8726, 1423, 6751, 2690, 1926, 2951, 6643, 8776, 4125, 9902, 4959, 8204, 521, 8329, 162, 7340, 5921, 2781, 9643, 7104, 4417, 3690, 4947, 2250, 1771, 3120, 1456, 6487, 6108, 1782, 4624, 1840, 5893, 5285, 7958, 2792, 4028, 7358, 3041, 9129, 8455, 4851, 638, 7057, 7657, 5919, 354, 3603, 5658, 4852, 1196, 5751, 3232, 7603, 183, 5300, 1524, 247, 6616, 4452, 2265, 1228, 3833, 3505, 2192, 4390, 1687, 8219, 6725, 3633, 7552, 7492, 2454, 3870, 4917, 4294, 4857, 8907, 3075, 8871, 7694, 6143, 9504, 811, 5650, 6730, 5472, 5538, 8875, 714, 3494, 4972, 5125, 3737, 4556, 1532, 8053, 3919, 9402, 1151, 707, 9220, 8207, 8939, 3981, 5785, 5521, 1855, 8524, 2464, 2381, 1370, 9978, 3011, 739, 609, 835, 6451, 5431, 4680, 5982, 4103, 6717, 3257, 9464, 8727, 9363, 6452, 1340, 7369, 1373, 2562, 875, 9753, 9292, 9099, 6680, 1911, 7437, 5304, 5145, 1891, 7066, 7976, 4618, 55, 2379, 4493, 8718, 4302, 7996, 8849, 7126, 1009, 8913, 5046, 9469, 2347, 4153, 57, 9451, 6489, 2211, 1944, 3247, 2109, 2569, 3719, 4994, 288, 7293, 4849, 4135, 4060, 1277, 556, 281, 171, 2178, 1616, 3237, 7402, 4693, 7287, 3165, 5395, 4525, 7319, 2910, 1712, 9791, 3671, 5563, 2904, 8988, 226, 2674, 2540, 253, 2221, 2083, 6500, 2701, 758, 8054, 9847, 7380, 9925, 9568, 4571, 3103, 4877, 9600, 4293, 2123, 8564, 719, 3549, 1478, 8998, 8132, 4071, 439, 5898, 4132, 3876, 3536, 1970, 8008, 6150, 3248, 7645, 5059, 5386, 297, 9769, 7152, 2248, 6456, 2143, 1301, 9679, 9430, 3007, 7237, 401, 1858, 1049, 5665, 1661, 6146, 7782, 4035, 911, 5684, 9981, 9115, 224, 7542, 2383, 8891, 3339, 9602, 2620, 1665, 7546, 3944, 7005, 4047, 7650, 3921, 3461, 7148, 4185, 3618, 2555, 6157, 3696, 2051, 9916, 7993, 3789, 8190, 1676, 844, 5184, 6696, 520, 9382, 3912, 7996, 9566, 7889, 6112, 6626, 79, 7423, 2645, 4593, 3030, 2365, 5230, 5237, 6734, 1489, 9456, 1831, 6860, 5067, 4641, 1794, 5899, 7389, 5194, 7572, 3664, 9160, 698, 4413, 3522, 5477, 3971, 3179, 7545, 5909, 9074, 2200, 7707, 9068, 3925, 3951, 5561, 5223, 6286, 769, 8789, 3866, 5112, 6514, 8557, 7640, 5298,
                5962, 3748, 769, 3981, 1019, 6886, 5622, 7890, 8282, 5794, 6828, 4427, 3019, 257, 5833, 6940, 8177, 2029, 3334, 2428, 4848, 8622, 172, 4580, 5602, 6526, 255, 6604, 3891, 1549, 2012, 9903, 2185, 5240, 7108, 6564, 7524, 2454, 5827, 5750, 3334, 9990, 8970, 7189, 2042, 8896, 4462, 5388, 221, 7131, 9167, 9510, 8678, 2576, 3999, 7560, 4733, 5774, 3739, 6845, 4313, 6246, 1773, 4245, 1158, 1160, 7828, 8066, 8086, 3400, 9501, 2321, 1740, 3329, 8302, 444, 8480, 9680, 2883, 4974, 2835, 1255, 2663, 6310, 8241, 6546, 8885, 4644, 8068, 2735, 6535, 4134, 9503, 9688, 9536, 2329, 2036, 8661, 3352, 5160, 4046, 731, 8959, 6423, 8483, 2359, 2921, 7992, 6231, 2100, 8163, 8815, 2288, 102, 7090, 5945, 1720, 1637, 6422, 2845, 3767, 246, 3700, 7374, 4011, 6479, 1517, 537, 8745, 6452, 7573, 3421, 5618, 8773, 1464, 4169, 6742, 2359, 3833, 4136, 7673, 862, 435, 8754, 4071, 2963, 5815, 1483, 9457, 3045, 9653, 7041, 3569, 1885, 2274, 1158, 1486, 9001, 2053, 3455, 5359, 3719, 412, 1453, 6680, 8427, 7013, 7065, 6531, 2172, 8127, 644, 7270, 1422, 6007, 8447, 4275, 4443, 6655, 670, 8775, 771, 2838, 3217, 8, 7536, 876, 5420, 9074, 1197, 2581, 9475, 8354, 6258, 8414, 7274, 1973, 6936, 4370, 5466, 9452, 4786, 9573, 7318, 1131, 1237, 2421, 2843, 1421, 5162, 104, 1558, 5097, 6981, 5699, 9371, 2213, 4820, 3859, 5308, 8431, 7989, 599, 2401, 6334, 3954, 467, 1840, 6464, 8998, 3511, 5123, 9758, 7236, 8114, 2031, 1951, 4019, 5281, 3023, 9137, 3176, 6102, 9256, 4550, 2790, 2886, 779, 1251, 853, 8525, 2619, 4143, 2073, 531, 3658, 1701, 3636, 6122, 2952, 2050, 9745, 5252, 6890, 7692, 8050, 7256, 4068, 9612, 7703, 9030, 9410, 8078, 3666, 5700, 7965, 7385, 2803, 3469, 5085, 5813, 5617, 4642, 3797, 1455, 3856, 211, 8795, 143, 9586, 5120, 7845, 1571, 390, 6036, 7254, 9184, 3908, 6464, 1725, 5101, 6427, 7782, 4566, 1077, 4231, 5696, 3651, 8726, 7287, 3342, 8680, 9583, 6892, 9933, 2545, 7041, 2230, 8853, 3307, 3308, 3579, 6246, 9220, 8656, 341, 563, 143, 1221, 9758, 5332, 584, 5732, 9443, 5227, 3018, 5421, 8022, 2324, 4856, 6509, 610, 5732, 3189, 4542, 8046, 1674, 9018, 5400, 4650, 8419, 7376, 1643, 7058, 4351, 363, 5999, 8130, 3639, 2274, 4429, 5226, 6030, 585, 3911, 121, 602, 8099, 8836, 2217, 1616, 2776, 5334, 1438, 5996, 2088, 379, 8817, 3004, 5061, 6353, 985, 495, 8700, 7530, 3215, 1425, 8471, 3784, 8695, 8533, 982, 1987, 3646, 2984, 4842, 9933, 9343, 4987, 3497, 86, 5539, 2858, 4951, 672, 12, 7555, 7254, 7445, 3530, 5703, 3304, 7178, 4779, 4936, 5146, 4010, 1776, 9673, 4947, 1365, 5379, 8822, 5548, 5119, 1650, 7993, 3196, 6837, 6359, 2239, 2981, 4670, 9254, 8121, 1072, 1262, 2744, 4355, 9152, 5753, 3439, 2678, 8242, 614, 1198, 7259, 820, 4761, 5156, 3125, 5737, 9282, 9277, 708, 968, 1271, 2667, 4912, 3553, 6512, 6961, 3755, 9513, 9226, 9727, 9559, 6789, 6984, 5550, 945, 387, 9820, 8002, 2607, 4606, 9057, 8744, 450, 2301, 8308, 1888, 3619, 9746, 7482, 8061, 292, 7762, 7901, 251, 220, 2913, 6573, 6528, 1976, 7073, 9143, 279, 2773, 9471, 9184]


print(kaprekars_constant(8))
